(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[951],{5842:function(e,n,t){"use strict";var o={};function r(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function a(e,n,t,o,r,a){return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(n)+(t?"; expires=".concat(t.toUTCString()):"")+(r?"; domain=".concat(r):"")+(o?"; path=".concat(o):"")+(a?"; secure":""),!0}function i(e,n,t){return!!hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t?"; domain=".concat(t):"")+(n?"; path=".concat(n):""),!0)}t.r(o),t.d(o,{getItem:function(){return r},removeItem:function(){return i},setItem:function(){return a}}),t(4916),t(4723),t(5306),t(4603),t(9714);var c,u=t(3609);BookReader.docCookies=o,u.extend(BookReader.defaultOptions,{enablePageResume:!0,resumeCookiePath:null}),BookReader.prototype.init=(c=BookReader.prototype.init,function(){var e=this;c.call(this),this.options.enablePageResume&&this.bind(BookReader.eventNames.fragmentChange,(function(){var n=e.paramsFromCurrent();e.updateResumeValue(n.index)}))}),BookReader.prototype.getResumeValue=function(){var e=BookReader.docCookies.getItem("br-resume");return null!==e?parseInt(e):null},BookReader.prototype.getCookiePath=function(e){return e.match(".+?(?=/page/|/mode/|$)")[0]},BookReader.prototype.updateResumeValue=function(e,n){var t=new Date(+new Date+12096e5),o=this.options.resumeCookiePath||this.getCookiePath(window.location.pathname);BookReader.docCookies.setItem(n||"br-resume",e,t,o,null,!1)}},4603:function(e,n,t){var o=t(9781),r=t(7854),a=t(4705),i=t(9587),c=t(8880),u=t(3070).f,s=t(8006).f,l=t(7850),f=t(1340),d=t(7066),p=t(2999),h=t(1320),m=t(7293),g=t(6656),k=t(9909).enforce,v=t(6340),R=t(5112),C=t(9441),x=t(8173),I=R("match"),w=r.RegExp,y=w.prototype,b=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,B=/a/g,E=/a/g,P=new w(B)!==B,U=p.UNSUPPORTED_Y;if(a("RegExp",o&&(!P||U||C||x||m((function(){return E[I]=!1,w(B)!=B||w(E)==E||"/a/i"!=w(B,"i")}))))){for(var A=function(e,n){var t,o,r,a,u,s,p=this instanceof A,h=l(e),m=void 0===n,v=[],R=e;if(!p&&h&&m&&e.constructor===A)return e;if((h||e instanceof A)&&(e=e.source,m&&(n="flags"in R?R.flags:d.call(R))),e=void 0===e?"":f(e),n=void 0===n?"":f(n),R=e,C&&"dotAll"in B&&(o=!!n&&n.indexOf("s")>-1)&&(n=n.replace(/s/g,"")),t=n,U&&"sticky"in B&&(r=!!n&&n.indexOf("y")>-1)&&(n=n.replace(/y/g,"")),x&&(e=(a=function(e){for(var n,t=e.length,o=0,r="",a=[],i={},c=!1,u=!1,s=0,l="";o<=t;o++){if("\\"===(n=e.charAt(o)))n+=e.charAt(++o);else if("]"===n)c=!1;else if(!c)switch(!0){case"["===n:c=!0;break;case"("===n:b.test(e.slice(o+1))&&(o+=2,u=!0),r+=n,s++;continue;case">"===n&&u:if(""===l||g(i,l))throw new SyntaxError("Invalid capture group name");i[l]=!0,a.push([l,s]),u=!1,l="";continue}u?l+=n:r+=n}return[r,a]}(e))[0],v=a[1]),u=i(w(e,n),p?this:y,A),(o||r||v.length)&&(s=k(u),o&&(s.dotAll=!0,s.raw=A(function(e){for(var n,t=e.length,o=0,r="",a=!1;o<=t;o++)"\\"!==(n=e.charAt(o))?a||"."!==n?("["===n?a=!0:"]"===n&&(a=!1),r+=n):r+="[\\s\\S]":r+=n+e.charAt(++o);return r}(e),t)),r&&(s.sticky=!0),v.length&&(s.groups=v)),e!==R)try{c(u,"source",""===R?"(?:)":R)}catch(e){}return u},$=function(e){e in A||u(A,e,{configurable:!0,get:function(){return w[e]},set:function(n){w[e]=n}})},_=s(w),O=0;_.length>O;)$(_[O++]);y.constructor=A,A.prototype=y,h(r,"RegExp",A)}v("RegExp")},4723:function(e,n,t){"use strict";var o=t(7007),r=t(9670),a=t(7466),i=t(1340),c=t(4488),u=t(1530),s=t(7651);o("match",(function(e,n,t){return[function(n){var t=c(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,t):new RegExp(n)[e](i(t))},function(e){var o=r(this),c=i(e),l=t(n,o,c);if(l.done)return l.value;if(!o.global)return s(o,c);var f=o.unicode;o.lastIndex=0;for(var d,p=[],h=0;null!==(d=s(o,c));){var m=i(d[0]);p[h]=m,""===m&&(o.lastIndex=u(c,a(o.lastIndex),f)),h++}return 0===h?null:p}]}))}},function(e){e(e.s=5842)}]);
//# sourceMappingURL=plugin.resume.js.map