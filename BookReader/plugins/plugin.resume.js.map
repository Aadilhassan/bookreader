{"version":3,"file":"plugins/plugin.resume.js","mappings":"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","sources":["webpack://@internetarchive/bookreader/./src/util/docCookies.js","webpack://@internetarchive/bookreader/./src/plugins/plugin.resume.js","webpack://@internetarchive/bookreader/./node_modules/core-js/modules/es.regexp.constructor.js","webpack://@internetarchive/bookreader/./node_modules/core-js/modules/es.string.match.js"],"sourcesContent":["/**\n * Helper module use to get, set and remove item from cookie\n *\n * See more:\n *  https://developer.mozilla.org/en-US/docs/Web/API/document.cookie\n *  https://developer.mozilla.org/User:fusionchess\n *  https://github.com/madmurphy/cookies.js\n *  This framework is released under the GNU Public License, version 3 or later.\n *  http://www.gnu.org/licenses/gpl-3.0-standalone.html\n */\n\n/**\n * Get specific key's value stored in cookie\n *\n * @param {string} sKey\n *\n * @returns {string|null}\n */\nexport function getItem(sKey) {\n  if (!sKey) return null;\n\n  return decodeURIComponent(\n    // eslint-disable-next-line no-useless-escape\n    document.cookie.replace(new RegExp('(?:(?:^|.*;)\\\\s*' + encodeURIComponent(sKey).replace(/[\\-\\.\\+\\*]/g, '\\\\$&') + '\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$'), '$1')) || null;\n}\n\n/**\n * Set specific key's value in cookie\n *\n * @param {string} sKey cookie name\n * @param {string} sValue cookie value\n * @param {string} [vEnd] expire|max-age\n * @param {string} [sPath] path of current item\n * @param {string} [sDomain] domain name\n * @param {boolean} [bSecure]\n *\n * @returns {true}\n */\nexport function setItem(sKey, sValue, vEnd, sPath, sDomain, bSecure) {\n  document.cookie = encodeURIComponent(sKey) + '=' + encodeURIComponent(sValue)\n  + (vEnd ? `; expires=${vEnd.toUTCString()}` : '')\n  + (sDomain ? `; domain=${sDomain}` : '')\n  + (sPath ? `; path=${sPath}` : '')\n  + (bSecure ? `; secure` : '');\n\n  return true;\n}\n\n/**\n * BROKEN Remove specific key's value from cookie\n * @fixme hasItem isn't even implemented! This will always error.\n * @param {string} sKey cookie name\n * @param {string} [sPath] path of current item\n * @param {string} [sDomain]\n *\n * @returns {boolean}\n */\nexport function removeItem(sKey, sPath, sDomain) {\n  // eslint-disable-next-line\n  if (!hasItem(sKey)) return false;\n\n  document.cookie = encodeURIComponent(sKey) + `=; expires=Thu, 01 Jan 1970 00:00:00 GMT`\n  + (sDomain ? `; domain=${sDomain}` : '')\n  + (sPath ? `; path=${sPath}` : '');\n\n  return true;\n}\n","import * as docCookies from '../util/docCookies.js';\n\n/* global BookReader */\n\n/** @deprecated Exposed for backward compatibility */\nBookReader.docCookies = docCookies;\n\n/**\n * Plugin to remember the current page number in a cookie\n */\njQuery.extend(BookReader.defaultOptions, {\n  enablePageResume: true,\n  /** @type {string|null} eg '/', '/details/id' */\n  resumeCookiePath: null,\n});\n\n/** @override */\nBookReader.prototype.init = (function(super_) {\n  return function() {\n    super_.call(this);\n    if (this.options.enablePageResume) {\n      this.bind(BookReader.eventNames.fragmentChange, () => {\n        const params = this.paramsFromCurrent();\n        this.updateResumeValue(params.index);\n      });\n    }\n  };\n})(BookReader.prototype.init);\n\n/**\n * Gets page resume value, for remembering reader's page\n * Can be overridden for different implementation\n *\n * @return {number|null}\n */\nBookReader.prototype.getResumeValue = function() {\n  const val = BookReader.docCookies.getItem('br-resume');\n  if (val !== null) return parseInt(val);\n  else return null;\n};\n\n/**\n * Return cookie path using pathname up to /page/... or /mode/...\n * using window.location.pathname for urlPathPart:\n * - matches encoding\n * - ignores querystring part\n * - ignores fragment part (after #)\n * @param {string} urlPathPart - window.location.pathname\n */\nBookReader.prototype.getCookiePath = function(urlPathPart) {\n  return urlPathPart.match('.+?(?=/page/|/mode/|$)')[0];\n};\n\n/**\n * Sets page resume value, for remembering reader's page\n * Can be overridden for different implementation\n *\n * @param {Number} index leaf index\n * @param {string} [cookieName]\n */\nBookReader.prototype.updateResumeValue = function(index, cookieName) {\n  const ttl = new Date(+new Date + 12096e5); // 2 weeks\n  // For multiple files in item, leave resumeCookiePath blank\n  // It's likely we can remove resumeCookiePath using getCookiePath()\n  const path = this.options.resumeCookiePath\n    || this.getCookiePath(window.location.pathname);\n  BookReader.docCookies.setItem(cookieName || 'br-resume', index, ttl, path, null, false);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar isRegExp = require('../internals/is-regexp');\nvar toString = require('../internals/to-string');\nvar getFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar enforceInternalState = require('../internals/internal-state').enforce;\nvar setSpecies = require('../internals/set-species');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar MATCH = wellKnownSymbol('match');\nvar NativeRegExp = global.RegExp;\nvar RegExpPrototype = NativeRegExp.prototype;\n// TODO: Use only propper RegExpIdentifierName\nvar IS_NCG = /^\\?<[^\\s\\d!#%&*+<=>@^][^\\s!#%&*+<=>@^]*>/;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\n\nvar BASE_FORCED = DESCRIPTORS &&\n  (!CORRECT_NEW || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG || fails(function () {\n    re2[MATCH] = false;\n    // RegExp constructor can alter flags and IsRegExp works correct with @@match\n    return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n  }));\n\nvar handleDotAll = function (string) {\n  var length = string.length;\n  var index = 0;\n  var result = '';\n  var brackets = false;\n  var chr;\n  for (; index <= length; index++) {\n    chr = string.charAt(index);\n    if (chr === '\\\\') {\n      result += chr + string.charAt(++index);\n      continue;\n    }\n    if (!brackets && chr === '.') {\n      result += '[\\\\s\\\\S]';\n    } else {\n      if (chr === '[') {\n        brackets = true;\n      } else if (chr === ']') {\n        brackets = false;\n      } result += chr;\n    }\n  } return result;\n};\n\nvar handleNCG = function (string) {\n  var length = string.length;\n  var index = 0;\n  var result = '';\n  var named = [];\n  var names = {};\n  var brackets = false;\n  var ncg = false;\n  var groupid = 0;\n  var groupname = '';\n  var chr;\n  for (; index <= length; index++) {\n    chr = string.charAt(index);\n    if (chr === '\\\\') {\n      chr = chr + string.charAt(++index);\n    } else if (chr === ']') {\n      brackets = false;\n    } else if (!brackets) switch (true) {\n      case chr === '[':\n        brackets = true;\n        break;\n      case chr === '(':\n        if (IS_NCG.test(string.slice(index + 1))) {\n          index += 2;\n          ncg = true;\n        }\n        result += chr;\n        groupid++;\n        continue;\n      case chr === '>' && ncg:\n        if (groupname === '' || has(names, groupname)) {\n          throw new SyntaxError('Invalid capture group name');\n        }\n        names[groupname] = true;\n        named.push([groupname, groupid]);\n        ncg = false;\n        groupname = '';\n        continue;\n    }\n    if (ncg) groupname += chr;\n    else result += chr;\n  } return [result, named];\n};\n\n// `RegExp` constructor\n// https://tc39.es/ecma262/#sec-regexp-constructor\nif (isForced('RegExp', BASE_FORCED)) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = this instanceof RegExpWrapper;\n    var patternIsRegExp = isRegExp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var groups = [];\n    var rawPattern = pattern;\n    var rawFlags, dotAll, sticky, handled, result, state;\n\n    if (!thisIsRegExp && patternIsRegExp && flagsAreUndefined && pattern.constructor === RegExpWrapper) {\n      return pattern;\n    }\n\n    if (patternIsRegExp || pattern instanceof RegExpWrapper) {\n      pattern = pattern.source;\n      if (flagsAreUndefined) flags = 'flags' in rawPattern ? rawPattern.flags : getFlags.call(rawPattern);\n    }\n\n    pattern = pattern === undefined ? '' : toString(pattern);\n    flags = flags === undefined ? '' : toString(flags);\n    rawPattern = pattern;\n\n    if (UNSUPPORTED_DOT_ALL && 'dotAll' in re1) {\n      dotAll = !!flags && flags.indexOf('s') > -1;\n      if (dotAll) flags = flags.replace(/s/g, '');\n    }\n\n    rawFlags = flags;\n\n    if (UNSUPPORTED_Y && 'sticky' in re1) {\n      sticky = !!flags && flags.indexOf('y') > -1;\n      if (sticky) flags = flags.replace(/y/g, '');\n    }\n\n    if (UNSUPPORTED_NCG) {\n      handled = handleNCG(pattern);\n      pattern = handled[0];\n      groups = handled[1];\n    }\n\n    result = inheritIfRequired(NativeRegExp(pattern, flags), thisIsRegExp ? this : RegExpPrototype, RegExpWrapper);\n\n    if (dotAll || sticky || groups.length) {\n      state = enforceInternalState(result);\n      if (dotAll) {\n        state.dotAll = true;\n        state.raw = RegExpWrapper(handleDotAll(pattern), rawFlags);\n      }\n      if (sticky) state.sticky = true;\n      if (groups.length) state.groups = groups;\n    }\n\n    if (pattern !== rawPattern) try {\n      // fails in old engines, but we have no alternatives for unsupported regex syntax\n      createNonEnumerableProperty(result, 'source', rawPattern === '' ? '(?:)' : rawPattern);\n    } catch (error) { /* empty */ }\n\n    return result;\n  };\n\n  var proxy = function (key) {\n    key in RegExpWrapper || defineProperty(RegExpWrapper, key, {\n      configurable: true,\n      get: function () { return NativeRegExp[key]; },\n      set: function (it) { NativeRegExp[key] = it; }\n    });\n  };\n\n  for (var keys = getOwnPropertyNames(NativeRegExp), index = 0; keys.length > index;) {\n    proxy(keys[index++]);\n  }\n\n  RegExpPrototype.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype;\n  redefine(global, 'RegExp', RegExpWrapper);\n}\n\n// https://tc39.es/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.es/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](toString(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@match\n    function (string) {\n      var rx = anObject(this);\n      var S = toString(string);\n      var res = maybeCallNative(nativeMatch, rx, S);\n\n      if (res.done) return res.value;\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = toString(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n"],"names":["getItem","sKey","decodeURIComponent","document","cookie","replace","RegExp","encodeURIComponent","setItem","sValue","vEnd","sPath","sDomain","bSecure","toUTCString","removeItem","hasItem","super_","BookReader","docCookies","jQuery","extend","defaultOptions","enablePageResume","resumeCookiePath","prototype","init","call","this","options","bind","eventNames","fragmentChange","params","paramsFromCurrent","updateResumeValue","index","getResumeValue","val","parseInt","getCookiePath","urlPathPart","match","cookieName","ttl","Date","path","window","location","pathname","DESCRIPTORS","global","isForced","inheritIfRequired","createNonEnumerableProperty","defineProperty","getOwnPropertyNames","isRegExp","toString","getFlags","stickyHelpers","redefine","fails","has","enforceInternalState","setSpecies","wellKnownSymbol","UNSUPPORTED_DOT_ALL","UNSUPPORTED_NCG","MATCH","NativeRegExp","RegExpPrototype","IS_NCG","re1","re2","CORRECT_NEW","UNSUPPORTED_Y","RegExpWrapper","pattern","flags","rawFlags","dotAll","sticky","handled","result","state","thisIsRegExp","patternIsRegExp","flagsAreUndefined","undefined","groups","rawPattern","constructor","source","indexOf","string","chr","length","named","names","brackets","ncg","groupid","groupname","charAt","test","slice","SyntaxError","push","handleNCG","raw","handleDotAll","error","proxy","key","configurable","get","set","it","keys","fixRegExpWellKnownSymbolLogic","anObject","toLength","requireObjectCoercible","advanceStringIndex","regExpExec","nativeMatch","maybeCallNative","regexp","O","matcher","rx","S","res","done","value","fullUnicode","unicode","lastIndex","A","n","matchStr"],"sourceRoot":""}