(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[73],{2728:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r(2222),r(2526),r(9826),r(1817),r(9554),r(2165),r(9600),r(1249),r(4603),r(4916),r(1038),r(9714),r(6992),r(5306),r(4986),r(4765),r(5827),r(4747),r(7042),r(5212),r(8309),r(1539),r(8674),r(8783),r(3948),r(285),r(5666);var o,a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.selector?(this.br=t.br,this.matcher=new RegExp("{{{(.+?)}}}","g"),this.cacheDOMElements(t.selector),this.bindEvents(),this.br.options.initialSearchTerm&&this.setQuery(t.query)):console.warn("BookReader::Search - SearchView must be passed a valid CSS selector")}var t,r;return t=e,(r=[{key:"cacheDOMElements",value:function(e){this.dom={},this.dom.searchTray=this.renderSearchTray(e),this.dom.results=this.dom.searchTray.querySelector('[data-id="results"]'),this.dom.resultsCount=this.dom.searchTray.querySelector('[data-id="results_count"]'),this.dom.searchField=this.dom.searchTray.querySelector('[name="query"]'),this.dom.searchPending=this.dom.searchTray.querySelector('[data-id="searchPending"]'),this.dom.mobileSearch=this.buildMobileDrawer(),this.dom.toolbarSearch=this.buildToolbarSearch()}},{key:"toggleSearchTray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dom.searchTray.classList.contains("hidden");this.dom.searchTray.classList.toggle("hidden",!e)}},{key:"toggleResultsCount",value:function(e){this.dom.resultsCount.classList.toggle("visible",e)}},{key:"updateResultsCount",value:function(e){this.dom.resultsCount.innerText="(".concat(e," result").concat(1!=e?"s":"",")"),this.toggleResultsCount(!0)}},{key:"setQuery",value:function(e){this.dom.searchField.value=e}},{key:"emptyMatches",value:function(){this.dom.results.innerHTML=""}},{key:"removeResultPins",value:function(){this.br.$(".BRnavpos .BRsearch").remove()}},{key:"clearSearchFieldAndResults",value:function(){this.toggleResultsCount(!1),this.removeResultPins(),this.emptyMatches(),this.setQuery("")}},{key:"renderSearchTray",value:function(e){var t=document.createElement("div");return t.setAttribute("id",e.replace(/^#/,"")),t.innerHTML='\n      <header>\n        <div>\n          <h3>Search inside</h3>\n          <p data-id="results_count"></p>\n        </div>\n        <a href="#" class="close"></a>\n      </header>\n      <form action="" method="get">\n        <fieldset>\n          <input name="all_files" id="all_files" type="checkbox" />\n          <label class="checkbox" for="all_files">Search all files</label>\n          <input type="search" name="query" placeholder="Enter a search term" />\n        </fieldset>\n      </form>\n      <div data-id="searchPending" id="search_pending">\n        <p>Your search results will appear below</p>\n        <div class="loader tc mt20"></div>\n      </div>\n      <ul data-id="results"></ul>\n    ',t}},{key:"renderMatches",value:function(e){var t=this,r=e.map((function(e){return'\n      <li data-page="'.concat(e.par[0].page,'" data-page-index="').concat(t.br.leafNumToIndex(e.par[0].page),'">\n        <h4>Page ').concat(e.par[0].page,"</h4>\n        <p>").concat(e.text.replace(t.matcher,"<mark>$1</mark>"),"</p>\n      </li>\n    ")}));this.dom.results.innerHTML=r.join("")}},{key:"togglePinsFor",value:function(e){var t=e?"visible":"hidden";this.br.refs.$BRfooter.find(".BRsearch").css({visibility:t})}},{key:"buildMobileDrawer",value:function(){var e=document.createElement("li");return e.innerHTML='\n      <span>\n        <span class="DrawerIconWrapper">\n          <img class="DrawerIcon" src="'.concat(this.br.imagesBaseURL,'icon_search_button.svg" />\n        </span>\n        Search\n      </span>\n      <div data-id="search_slot">\n      </div>\n    '),e.querySelector('[data-id="search_slot"]').appendChild(this.dom.searchTray),e.classList.add("BRmobileMenu__search"),e}},{key:"buildToolbarSearch",value:function(){var e=document.createElement("span");return e.classList.add("BRtoolbarSection","BRtoolbarSectionSearch"),e.innerHTML='\n      <form class="BRbooksearch desktop">\n        <input type="search" name="query" class="BRsearchInput" val="" placeholder="Search inside"/>\n        <button type="submit" class="BRsearchSubmit">\n          <img src="'.concat(this.br.imagesBaseURL,'icon_search_button.svg" />\n        </button>\n      </form>\n    '),e}},{key:"renderPins",value:function(e){var t=this;e.forEach((function(e){var r=e.text,n=t.br.leafNumToIndex(e.par[0].page),o=t.br.getPageNum(n),a=t.br.constructor.util.cssPercentage(n,t.br.getNumLeafs()-1),i=r.replace(t.matcher,"<b>$1</b>"),s="";r.length>100&&(s=r.replace(/^(.{100}[^\s]*).*/,"$1").replace(t.matcher,"<b>$1</b>")+"...");var c=-t.br.refs.$brContainer.height();$("<div>").addClass("BRsearch").css({top:"".concat(c,"px"),left:a}).attr("title","Search result").append('\n          <div class="BRquery">\n            <div>'.concat(s||i,"</div>\n            <div>").concat("Page"," ").concat(o,"</div>\n          </div>\n        ")).data({pageIndex:n}).appendTo(t.br.$(".BRnavline")).hover((function(e){var t=e.currentTarget,r=t.querySelector(".BRquery"),n=r.getBoundingClientRect(),o=t.getBoundingClientRect(),a=2*parseInt(getComputedStyle(r).paddingLeft);n.x-a<0&&r.style.setProperty("transform","translateX(-".concat(o.left-a,"px)")),$(".BRsearch,.BRchapter").removeClass("front"),$(e.target).addClass("front")}),(function(e){return $(e.target).removeClass("front")})).click(function(e){this.br._searchPluginGoToResult(+$(e.target).data("pageIndex")),this.br.updateSearchHilites()}.bind(t)).animate({top:"-25px"},"slow")}))}},{key:"toggleSearchPending",value:function(e){this.dom.searchPending.classList.toggle("visible",e),e?this.br.showProgressPopup('<img class="searchmarker" src="'.concat(this.br.imagesBaseURL,'marker_srch-on.svg" />\n        Search results will appear below...')):this.br.removeProgressPopup()}},{key:"renderErrorModal",value:function(){this.renderModalMessage("Sorry, there was an error with your search.<br />The text may still be processing."),this.delayModalRemovalFor(4e3)}},{key:"renderBookNotIndexedModal",value:function(){this.renderModalMessage("\n      <p>\n         This book hasn't been indexed for searching yet.\n         We've just started indexing it, so search should be available soon.\n         Please try again later. Thanks!\n      </p>\n    "),this.delayModalRemovalFor(5e3)}},{key:"renderResultsEmptyModal",value:function(){this.renderModalMessage("No matches were found."),this.delayModalRemovalFor(2e3)}},{key:"renderModalMessage",value:function(e){var t=document.createElement("div");t.classList.add("BRprogresspopup","search_modal"),t.innerHTML=e,document.querySelector(this.br.el).append(t)}},{key:"delayModalRemovalFor",value:function(e){setTimeout(this.br.removeProgressPopup.bind(this.br),e)}},{key:"openMobileMenu",value:function(){this.br.refs.$mmenu.data("mmenu").open()}},{key:"closeMobileMenu",value:function(){this.br.refs.$mmenu.data("mmenu").close()}},{key:"submitHandler",value:function(e){e.preventDefault();var t=e.target.querySelector('[name="query"]').value;return!!t.length&&(this.br.search(t),this.dom.searchField.blur(),this.emptyMatches(),this.toggleSearchPending(!0),!1)}},{key:"handleSearchCallback",value:function(e,t){var r=t.results;this.renderMatches(r.matches),this.renderPins(r.matches),this.updateResultsCount(r.matches.length),this.toggleSearchPending(!1)}},{key:"handleNavToggledCallback",value:function(e){var t=this.br.navigationIsVisible();this.togglePinsFor(t),this.toggleSearchTray(!!t&&!!this.dom.results.querySelector("li"))}},{key:"handleSearchStarted",value:function(){this.br.removeSearchHilites(),this.removeResultPins(),this.toggleSearchPending(!0),this.setQuery(this.br.searchTerm)}},{key:"handleSearchCallbackError",value:function(){this.toggleSearchPending(!1),this.renderErrorModal()}},{key:"handleSearchCallbackBookNotIndexed",value:function(){this.toggleSearchPending(!1),this.renderBookNotIndexedModal()}},{key:"handleSearchCallbackEmpty",value:function(){this.toggleSearchPending(!1),this.renderResultsEmptyModal()}},{key:"bindEvents",value:function(){var e=this,t="BookReader:";$(document).on("".concat(t,"SearchCallback"),this.handleSearchCallback.bind(this)).on("".concat(t,"navToggled"),this.handleNavToggledCallback.bind(this)).on("".concat(t,"SearchStarted"),this.handleSearchStarted.bind(this)).on("".concat(t,"SearchCallbackError"),this.handleSearchCallbackError.bind(this)).on("".concat(t,"SearchCallbackBookNotIndexed"),this.handleSearchCallbackBookNotIndexed.bind(this)).on("".concat(t,"SearchCallbackEmpty"),this.handleSearchCallbackEmpty.bind(this)),this.dom.searchTray.addEventListener("submit",this.submitHandler.bind(this)),this.dom.toolbarSearch.querySelector("form").addEventListener("submit",this.submitHandler.bind(this)),this.dom.searchField.addEventListener("search",(function(){e.dom.searchField.value||(e.br.removeSearchResults(),e.clearSearchFieldAndResults())})),$(this.dom.results).on("click","li",(function(t){e.br._searchPluginGoToResult(+t.currentTarget.dataset.pageIndex),e.br.updateSearchHilites(),e.closeMobileMenu()}))}}])&&n(t.prototype,r),e}();function i(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}jQuery.extend(BookReader.defaultOptions,{server:"ia600609.us.archive.org",bookId:"",subPrefix:"",bookPath:"",enableSearch:!0,searchInsideUrl:"/fulltext/inside.php",initialSearchTerm:null}),BookReader.prototype.setup=(o=BookReader.prototype.setup,function(e){o.call(this,e),this.searchTerm="",this.searchResults=null,this.searchInsideUrl=e.searchInsideUrl,this.enableSearch=e.enableSearch,this.goToFirstResult=!1,this.bookId=e.bookId,this.server=e.server,this.subPrefix=e.subPrefix,this.bookPath=e.bookPath,this.searchView=new a({br:this,selector:"#BRsearch_tray"})}),BookReader.prototype.init=function(e){return function(){e.call(this),this.options.enableSearch&&this.options.initialSearchTerm&&this.search(this.options.initialSearchTerm,{goToFirstResult:this.goToFirstResult,suppressFragmentChange:!0})}}(BookReader.prototype.init),BookReader.prototype.buildMobileDrawerElement=function(e){return function(){var t=e.call(this);if(this.enableSearch)return this.searchView.dom.mobileSearch&&t.find(".BRmobileMenu__moreInfoRow").after(this.searchView.dom.mobileSearch),t}}(BookReader.prototype.buildMobileDrawerElement),BookReader.prototype.buildToolbarElement=function(e){return function(){var t=e.call(this);if(this.enableSearch)return this.searchView.dom.toolbarSearch&&t.find(".BRtoolbarSectionInfo").after(this.searchView.dom.toolbarSearch),t}}(BookReader.prototype.buildToolbarElement),BookReader.prototype.search=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={goToFirstResult:!1,disablePopup:!1,suppressFragmentChange:!1,error:null,success:null},o=jQuery.extend({},n,r);this.suppressFragmentChange=o.suppressFragmentChange,this.searchTerm=t.replace(/\//g," "),o.suppressFragmentChange||this.trigger(BookReader.eventNames.fragmentChange);var a=this.server.replace(/:.+/,""),i="https://".concat(a).concat(this.searchInsideUrl,"?"),s=this.bookPath,c="/".concat(this.subPrefix);this.bookPath.length-this.bookPath.lastIndexOf(c)==c.length&&(s=this.bookPath.substr(0,this.bookPath.length-c.length));var l={item_id:this.bookId,doc:this.subPrefix,path:s,q:t},u=$.param(l).replace(/%2F/g,"/"),h="".concat(i).concat(u),d=function(t){var r=t.error||!t.matches.length,n="function"==typeof o.error,a="function"==typeof o.success;r?n?o.error.call(e,t,o):e.BRSearchCallbackError(t,o):a?o.success.call(e,t,o):e.BRSearchCallback(t,o)};return this.trigger("SearchStarted"),$.ajax({url:h,dataType:"jsonp"}).then(d)},BookReader.prototype.BRSearchCallback=function(e,t){this.searchResults=e,this.updateSearchHilites(),this.removeProgressPopup(),t.goToFirstResult&&this._searchPluginGoToResult(e.matches[0].par[0].page),this.trigger("SearchCallback",{results:e,options:t,instance:this})},BookReader.prototype.BRSearchCallbackError=function(e){this._BRSearchCallbackError(e)},BookReader.prototype._BRSearchCallbackError=function(e){if(this.searchResults=e,e.error)this.trigger("SearchCallbackError",{results:e,instance:this});else if(0==e.matches.length){if(!1===e.indexed)return void this.trigger("SearchCallbackBookNotIndexed",{instance:this});this.trigger("SearchCallbackEmpty",{instance:this})}},BookReader.prototype.updateSearchHilites=function(){this.constMode2up!=this.mode?this.updateSearchHilites1UP():this.updateSearchHilites2UP()},BookReader.prototype.updateSearchHilites1UP=function(){var e=this,t=this.searchResults;null!=t&&t.matches.forEach((function(t){t.par[0].boxes.forEach((function(t){var r=e.leafNumToIndex(t.page);if(jQuery.inArray(r,e.displayedIndices)>=0){t.div||(t.div=document.createElement("div"),$(t.div).prop("className","BookReaderSearchHilite").appendTo(e.$(".pagediv".concat(r))));var n={width:"".concat((t.r-t.l)/e.reduce,"px"),height:"".concat((t.b-t.t)/e.reduce,"px"),left:"".concat(t.l/e.reduce,"px"),top:"".concat(t.t/e.reduce,"px")};$(t.div).css(n)}else t.div&&($(t.div).remove(),t.div=null)}))}))},BookReader.prototype.updateSearchHilites2UP=function(){var e=this,t=this.searchResults;null!==t&&t.matches.forEach((function(t){t.par[0].boxes.forEach((function(r){var n=e.leafNumToIndex(t.par[0].page),o=jQuery.inArray(n,e.displayedIndices)>=0,a=e._models.book.getPage(n).isViewable;o&&a?(r.div||(r.div=document.createElement("div"),$(r.div).addClass("BookReaderSearchHilite").appendTo(e.refs.$brTwoPageView)),e.setHilightCss2UP(r.div,n,r.l,r.r,r.t,r.b)):r.div&&($(r.div).remove(),r.div=null)}))}))},BookReader.prototype.removeSearchHilites=function(){var e=this.searchResults;null!=e&&e.matches.forEach((function(e){e.par[0].boxes.forEach((function(e){null!=e.div&&($(e.div).remove(),e.div=null)}))}))},BookReader.prototype._searchPluginGoToResult=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,n,o,a,s,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._models.book,n=r.getPage(t),o=!1,n.isViewable){e.next=10;break}return e.next=6,fetch("/services/bookreader/request_page?"+new URLSearchParams({id:this.options.bookId,subprefix:this.options.subPrefix,leafNum:n.leafNum})).then((function(e){return e.json()}));case 6:a=e.sent,s=i(a.value);try{for(s.s();!(c=s.n()).done;)l=c.value,r.getPage(r.leafNumToIndex(l)).makeViewable()}catch(e){s.e(e)}finally{s.f()}a.value.length||(r.getPage(t).makeViewable(),o=!0);case 10:this.jumpToIndex(t),o&&r.getPage(t).makeViewable(!1);case 12:case"end":return e.stop()}}),e,this)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){c(a,n,o,i,s,"next",e)}function s(e){c(a,n,o,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),BookReader.prototype.removeSearchResults=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.removeSearchHilites(),this.searchTerm=null,this.searchResults=null,e||this.trigger(BookReader.eventNames.fragmentChange)},BookReader.prototype.searchHighlightVisible=function(){var e=this,t=this.searchResults,r=[];if(null==t)return!1;if(this.constMode2up==this.mode)r=[this.twoPage.currentIndexL,this.twoPage.currentIndexR];else{if(this.constMode1up!=this.mode)return!1;r=[this.currentIndex()]}return t.matches.some((function(t){return t.par[0].boxes.some((function(t){var n=e.leafNumToIndex(t.page);if(jQuery.inArray(n,r)>=0)return!0}))})),!1}},8533:function(e,t,r){"use strict";var n=r(2092).forEach,o=r(9341),a=r(9207),i=o("forEach"),s=a("forEach");e.exports=i&&s?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},6583:function(e,t,r){"use strict";var n=r(5656),o=r(9958),a=r(7466),i=r(9341),s=r(9207),c=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,h=i("lastIndexOf"),d=s("indexOf",{ACCESSORS:!0,1:0}),f=u||!h||!d;e.exports=f?function(e){if(u)return l.apply(this,arguments)||0;var t=n(this),r=a(t.length),i=r-1;for(arguments.length>1&&(i=c(i,o(arguments[1]))),i<0&&(i=r+i);i>=0;i--)if(i in t&&t[i]===e)return i||0;return-1}:l},6833:function(e,t,r){var n=r(8113);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},842:function(e,t,r){var n=r(7854);e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},9587:function(e,t,r){var n=r(111),o=r(7674);e.exports=function(e,t,r){var a,i;return o&&"function"==typeof(a=t.constructor)&&a!==r&&n(i=a.prototype)&&i!==r.prototype&&o(e,i),e}},408:function(e,t,r){var n=r(9670),o=r(7659),a=r(7466),i=r(9974),s=r(1246),c=r(3411),l=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,r,u,h){var d,f,p,v,m,g,b,y=i(t,r,u?2:1);if(h)d=e;else{if("function"!=typeof(f=s(e)))throw TypeError("Target is not iterable");if(o(f)){for(p=0,v=a(e.length);v>p;p++)if((m=u?y(n(b=e[p])[0],b[1]):y(e[p]))&&m instanceof l)return m;return new l(!1)}d=f.call(e)}for(g=d.next;!(b=g.call(d)).done;)if("object"==typeof(m=c(d,y,b.value,u))&&m&&m instanceof l)return m;return new l(!1)}).stop=function(e){return new l(!0,e)}},5948:function(e,t,r){var n,o,a,i,s,c,l,u,h=r(7854),d=r(1236).f,f=r(4326),p=r(261).set,v=r(6833),m=h.MutationObserver||h.WebKitMutationObserver,g=h.process,b=h.Promise,y="process"==f(g),k=d(h,"queueMicrotask"),S=k&&k.value;S||(n=function(){var e,t;for(y&&(e=g.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?i():a=void 0,e}}a=void 0,e&&e.enter()},y?i=function(){g.nextTick(n)}:m&&!v?(s=!0,c=document.createTextNode(""),new m(n).observe(c,{characterData:!0}),i=function(){c.data=s=!s}):b&&b.resolve?(l=b.resolve(void 0),u=l.then,i=function(){u.call(l,n)}):i=function(){p.call(h,n)}),e.exports=S||function(e){var t={fn:e,next:void 0};a&&(a.next=t),o||(o=t,i()),a=t}},3366:function(e,t,r){var n=r(7854);e.exports=n.Promise},8523:function(e,t,r){"use strict";var n=r(3099),o=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new o(e)}},2534:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},9478:function(e,t,r){var n=r(9670),o=r(111),a=r(8523);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},6340:function(e,t,r){"use strict";var n=r(5005),o=r(3070),a=r(5112),i=r(9781),s=a("species");e.exports=function(e){var t=n(e),r=o.f;i&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},261:function(e,t,r){var n,o,a,i=r(7854),s=r(7293),c=r(4326),l=r(9974),u=r(490),h=r(317),d=r(6833),f=i.location,p=i.setImmediate,v=i.clearImmediate,m=i.process,g=i.MessageChannel,b=i.Dispatch,y=0,k={},S=function(e){if(k.hasOwnProperty(e)){var t=k[e];delete k[e],t()}},R=function(e){return function(){S(e)}},x=function(e){S(e.data)},P=function(e){i.postMessage(e+"",f.protocol+"//"+f.host)};p&&v||(p=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return k[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(y),y},v=function(e){delete k[e]},"process"==c(m)?n=function(e){m.nextTick(R(e))}:b&&b.now?n=function(e){b.now(R(e))}:g&&!d?(a=(o=new g).port2,o.port1.onmessage=x,n=l(a.postMessage,a,1)):!i.addEventListener||"function"!=typeof postMessage||i.importScripts||s(P)||"file:"===f.protocol?n="onreadystatechange"in h("script")?function(e){u.appendChild(h("script")).onreadystatechange=function(){u.removeChild(this),S(e)}}:function(e){setTimeout(R(e),0)}:(n=P,i.addEventListener("message",x,!1))),e.exports={set:p,clear:v}},9554:function(e,t,r){"use strict";var n=r(2109),o=r(8533);n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},4986:function(e,t,r){var n=r(2109),o=r(6583);n({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},5212:function(e,t,r){"use strict";var n=r(2109),o=r(2092).some,a=r(9341),i=r(9207),s=a("some"),c=i("some");n({target:"Array",proto:!0,forced:!s||!c},{some:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},8674:function(e,t,r){"use strict";var n,o,a,i,s=r(2109),c=r(1913),l=r(7854),u=r(5005),h=r(3366),d=r(1320),f=r(2248),p=r(8003),v=r(6340),m=r(111),g=r(3099),b=r(5787),y=r(4326),k=r(2788),S=r(408),R=r(7072),x=r(6707),P=r(261).set,T=r(5948),w=r(9478),E=r(842),B=r(8523),C=r(2534),M=r(9909),I=r(4705),j=r(5112),_=r(7392),$=j("species"),F="Promise",H=M.get,L=M.set,N=M.getterFor(F),q=h,O=l.TypeError,U=l.document,A=l.process,V=u("fetch"),D=B.f,Q=D,G="process"==y(A),W=!!(U&&U.createEvent&&l.dispatchEvent),Y="unhandledrejection",K=I(F,(function(){if(k(q)===String(q)){if(66===_)return!0;if(!G&&"function"!=typeof PromiseRejectionEvent)return!0}if(c&&!q.prototype.finally)return!0;if(_>=51&&/native code/.test(q))return!1;var e=q.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[$]=t,!(e.then((function(){}))instanceof t)})),X=K||!R((function(e){q.all(e).catch((function(){}))})),z=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},J=function(e,t,r){if(!t.notified){t.notified=!0;var n=t.reactions;T((function(){for(var o=t.value,a=1==t.state,i=0;n.length>i;){var s,c,l,u=n[i++],h=a?u.ok:u.fail,d=u.resolve,f=u.reject,p=u.domain;try{h?(a||(2===t.rejection&&re(e,t),t.rejection=1),!0===h?s=o:(p&&p.enter(),s=h(o),p&&(p.exit(),l=!0)),s===u.promise?f(O("Promise-chain cycle")):(c=z(s))?c.call(s,d,f):d(s)):f(o)}catch(e){p&&!l&&p.exit(),f(e)}}t.reactions=[],t.notified=!1,r&&!t.rejection&&ee(e,t)}))}},Z=function(e,t,r){var n,o;W?((n=U.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),l.dispatchEvent(n)):n={promise:t,reason:r},(o=l["on"+e])?o(n):e===Y&&E("Unhandled promise rejection",r)},ee=function(e,t){P.call(l,(function(){var r,n=t.value;if(te(t)&&(r=C((function(){G?A.emit("unhandledRejection",n,e):Z(Y,e,n)})),t.rejection=G||te(t)?2:1,r.error))throw r.value}))},te=function(e){return 1!==e.rejection&&!e.parent},re=function(e,t){P.call(l,(function(){G?A.emit("rejectionHandled",e):Z("rejectionhandled",e,t.value)}))},ne=function(e,t,r,n){return function(o){e(t,r,o,n)}},oe=function(e,t,r,n){t.done||(t.done=!0,n&&(t=n),t.value=r,t.state=2,J(e,t,!0))},ae=function(e,t,r,n){if(!t.done){t.done=!0,n&&(t=n);try{if(e===r)throw O("Promise can't be resolved itself");var o=z(r);o?T((function(){var n={done:!1};try{o.call(r,ne(ae,e,n,t),ne(oe,e,n,t))}catch(r){oe(e,n,r,t)}})):(t.value=r,t.state=1,J(e,t,!1))}catch(r){oe(e,{done:!1},r,t)}}};K&&(q=function(e){b(this,q,F),g(e),n.call(this);var t=H(this);try{e(ne(ae,this,t),ne(oe,this,t))}catch(e){oe(this,t,e)}},(n=function(e){L(this,{type:F,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(q.prototype,{then:function(e,t){var r=N(this),n=D(x(this,q));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=G?A.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&J(this,r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n,t=H(e);this.promise=e,this.resolve=ne(ae,e,t),this.reject=ne(oe,e,t)},B.f=D=function(e){return e===q||e===a?new o(e):Q(e)},c||"function"!=typeof h||(i=h.prototype.then,d(h.prototype,"then",(function(e,t){var r=this;return new q((function(e,t){i.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof V&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return w(q,V.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:K},{Promise:q}),p(q,F,!1,!0),v(F),a=u(F),s({target:F,stat:!0,forced:K},{reject:function(e){var t=D(this);return t.reject.call(void 0,e),t.promise}}),s({target:F,stat:!0,forced:c||K},{resolve:function(e){return w(c&&this===a?q:this,e)}}),s({target:F,stat:!0,forced:X},{all:function(e){var t=this,r=D(t),n=r.resolve,o=r.reject,a=C((function(){var r=g(t.resolve),a=[],i=0,s=1;S(e,(function(e){var c=i++,l=!1;a.push(void 0),s++,r.call(t,e).then((function(e){l||(l=!0,a[c]=e,--s||n(a))}),o)})),--s||n(a)}));return a.error&&o(a.value),r.promise},race:function(e){var t=this,r=D(t),n=r.reject,o=C((function(){var o=g(t.resolve);S(e,(function(e){o.call(t,e).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}})},4603:function(e,t,r){var n=r(9781),o=r(7854),a=r(4705),i=r(9587),s=r(3070).f,c=r(8006).f,l=r(7850),u=r(7066),h=r(2999),d=r(1320),f=r(7293),p=r(9909).set,v=r(6340),m=r(5112)("match"),g=o.RegExp,b=g.prototype,y=/a/g,k=/a/g,S=new g(y)!==y,R=h.UNSUPPORTED_Y;if(n&&a("RegExp",!S||R||f((function(){return k[m]=!1,g(y)!=y||g(k)==k||"/a/i"!=g(y,"i")})))){for(var x=function(e,t){var r,n=this instanceof x,o=l(e),a=void 0===t;if(!n&&o&&e.constructor===x&&a)return e;S?o&&!a&&(e=e.source):e instanceof x&&(a&&(t=u.call(e)),e=e.source),R&&(r=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var s=i(S?new g(e,t):g(e,t),n?this:b,x);return R&&r&&p(s,{sticky:r}),s},P=function(e){e in x||s(x,e,{configurable:!0,get:function(){return g[e]},set:function(t){g[e]=t}})},T=c(g),w=0;T.length>w;)P(T[w++]);b.constructor=x,x.prototype=b,d(o,"RegExp",x)}v("RegExp")},4747:function(e,t,r){var n=r(7854),o=r(8324),a=r(8533),i=r(8880);for(var s in o){var c=n[s],l=c&&c.prototype;if(l&&l.forEach!==a)try{i(l,"forEach",a)}catch(e){l.forEach=a}}}},0,[[2728,898]]]);
//# sourceMappingURL=plugin.search.js.map